{% extends 'layout.html' %}

{% load layout %}

{% block title %}
    {{ depot_name }}
{% endblock %}

{% block content %}
    {% if error_message %}
        <div class="alert alert-danger" role="alert">{{ error_message }}</div>
    {% endif %}

    <h1>{{ depot_name }} <small>by organization</small></h1>

    <form method="post" action="{% url 'login:home' %}">
        {% csrf_token %}

        <table class="table">
            <tr>
                <th>Name</th>
                <th>Quantity</th>
                <th>Location</th>
                {% if request.user.is_authenticated %}
                    <th>Visibility</th>
                {% endif %}
                <th>Selected</th>
            </tr>

            {% for item in item_list %}
                <tr class="rental-item">
                    <td class="rental-item-name">{{ item.name }}</td>
                    <td class="rental-item-quantity">{{ item.quantity }}</td>
                    <td class="rental-item-location">{{ item.location }}</td>
                    {% if request.user.is_authenticated %}
                        <td>{% item_visibility item.visibility %}</td>
                    {% endif %}
                    <td class="rental-item-selected">
                        <input type="number" name="item-{{ item.id }}-quantity"
                               min="0" max="{{ item.quantity }}" value="0">
                    </td>
                </tr>
            {% endfor %}
        </table>

        {% include 'depot/checkout-modal.html' %}
    </form>
{% endblock %}
